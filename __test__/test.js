const assert = require("power-assert");
const BB = require("../dist/index");

describe("basic test", () => {
  test("it simply works", () => {
    const b = BB();
    // "â–", "â–Ž", "â–", "â–Œ", "â–‹", "â–Š", "â–‰", "â–ˆ"
    // 1/8, 2/8, 3/8, 4/8, 5/8, 6/8, 7/8, 8/8
    assert.equal(b.value(10), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ");
    assert.equal(b.value(10.1), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ");
    assert.equal(b.value(10.126), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–");
    assert.equal(b.value(10.25), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž");
    assert.equal(b.value(10.4), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–");
    assert.equal(b.value(10.5), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ");
    assert.equal(b.value(10.6), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ");
    assert.equal(b.value(10.874), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š");
    assert.equal(b.value(10.9), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰");
    assert.equal(b.value(11), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ");
    assert.equal(b.percentage(10), "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ");
  });

  test("custom block block", () => {
    const b = BB({
      max: 12,
      stepBlocks: ["ðŸ˜ž", "ðŸ˜”", "ðŸ˜Ÿ", "â˜¹ï¸", "ðŸ˜‘", "ðŸ˜", "ðŸ˜", "ðŸ™‚", "ðŸ˜€", "ðŸ˜†"]
    });

    assert.equal(b.value(10), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†");
    assert.equal(b.value(10.125), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜ž");
    assert.equal(b.value(10.2), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜”");
    assert.equal(b.value(10.3), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜Ÿ");
    assert.equal(b.value(10.4), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†â˜¹ï¸");
    assert.equal(b.value(10.5), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜‘");
    assert.equal(b.value(10.6), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜");

    assert.equal(b.percentage(100), "ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†")
  });

  test("empty block block", () => {
    const b = BB({
      stepBlocks: []
    });

    console.log(b.value(10), "");
  });
});